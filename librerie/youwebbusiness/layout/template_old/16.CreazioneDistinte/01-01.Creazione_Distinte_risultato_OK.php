<!DOCTYPE html>
<!-- !DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN" -->
<html lang="en">
<head>
    <meta charset="utf-8" />
    <title>YouBusiness Web</title>
    <meta name="viewport" content="width=device-width" />

    <script type="text/javascript">
        var globalRestylingImagePath = '/anchise.web/Contents/00000/it-IT/alten-anchise-images/';
    </script>

    <link href="/anchise.web/Contents/00000/it-IT/Style/dialog.css?v=75" rel="stylesheet" type="text/css">
<link href="/anchise.web/Contents/00000/it-IT/Style/menu-inner.css?v=75" rel="stylesheet" type="text/css">
<link href="/anchise.web/Contents/00000/it-IT/Style/site.css?v=75" rel="stylesheet" type="text/css">
<link href="/anchise.web/Contents/00000/it-IT/Style/footer.css?v=75" rel="stylesheet" type="text/css">
<link href="/anchise.web/Contents/00000/it-IT/Style/filter.css?v=75" rel="stylesheet" type="text/css">
<link href="/anchise.web/Contents/00000/it-IT/Style/search.css?v=75" rel="stylesheet" type="text/css">
<link href="/anchise.web/Contents/00000/it-IT/Style/grid.css?v=75" rel="stylesheet" type="text/css">
<link href="/anchise.web/Contents/00000/it-IT/Style/secondaryresult.css?v=75" rel="stylesheet" type="text/css">
<link href="/anchise.web/Contents/00000/it-IT/Style/menu.css?v=75" rel="stylesheet" type="text/css">
<link href="/anchise.web/Contents/00000/it-IT/Style/CrudForm.css?v=75" rel="stylesheet" type="text/css">

<link href="/anchise.web/Contents/00000/it-IT/Style/themes/youbiz/jquery-ui.1.11.4.css?v=75" rel="stylesheet" type="text/css">
<link href="/anchise.web/Contents/00000/it-IT/Style/themes/anchise/anchise.ui.core.css?v=75" rel="stylesheet" type="text/css">

<link href="/anchise.web/Contents/00000/it-IT/Style/bootstrap.min.css?v=75" rel="stylesheet" type="text/css"><link href="/anchise.web/Contents/00000/it-IT/Style/bootstrap.grid-system.css?v=75" rel="stylesheet" type="text/css"><link href="/anchise.web/Contents/00000/it-IT/Style/alten-anchise.essentials.css?v=75" rel="stylesheet" type="text/css"><link href="/anchise.web/Contents/00000/it-IT/Style/alten-anchise.header-default.css?v=75" rel="stylesheet" type="text/css"><link href="/anchise.web/Contents/00000/it-IT/Style/alten-anchise.byWeb2014.css?v=75" rel="stylesheet" type="text/css"><link href="/anchise.web/Contents/00000/it-IT/Style/alten-anchise.byWeb-Business.css?v=75" rel="stylesheet" type="text/css"><link href="/anchise.web/Contents/00000/it-IT/Style/alten-anchise.site.css?v=75" rel="stylesheet" type="text/css"><link href="/anchise.web/Contents/00000/it-IT/Style/alten-anchise.main.css?v=75" rel="stylesheet" type="text/css"><link href="/anchise.web/Contents/00000/it-IT/Style/alten-anchise.search.css?v=75" rel="stylesheet" type="text/css"><link href="/anchise.web/Contents/00000/it-IT/Style/alten-anchise.grid.css?v=75" rel="stylesheet" type="text/css"><link href="/anchise.web/Contents/00000/it-IT/Style/alten-anchise.anchise.css?v=75" rel="stylesheet" type="text/css"><link href="/anchise.web/Contents/00000/it-IT/Style/youbiz-anchise.custom.min.css?v=75" rel="stylesheet" type="text/css"><link href="/anchise.web/Contents/00000/it-IT/Style/tm-print.css?v=75" rel="stylesheet" type="text/css">
    <script src="/anchise.web/Contents/00000/it-IT/Scripts/jquery-1.11.3.min.js?v=75" type="text/javascript"></script>
<script src="/anchise.web/Contents/00000/it-IT/Scripts/jquery.json-2.4.min.js?v=75" type="text/javascript"></script>
<script src="/anchise.web/Contents/00000/it-IT/Scripts/jquery-ui-1.11.4.min.js?v=75" type="text/javascript"></script>


<script src="/anchise.web/Contents/00000/it-IT/Scripts/bootstrap.min.js?v=75" type="text/javascript"></script>

<script src="/anchise.web/Contents/00000/it-IT/Scripts/modernizr-2.0.6-development-only.js?v=75" type="text/javascript"></script>

<script src="/anchise.web/Contents/00000/it-IT/Scripts/knockout-2.0.0.js?v=75" type="text/javascript"></script>
<script src="/anchise.web/Contents/00000/it-IT/Scripts/knockout.mapping-2.3.5.js?v=75" type="text/javascript"></script>
<script src="/anchise.web/Contents/00000/it-IT/Scripts/tm.knockout.js?v=75" type="text/javascript"></script>
<script src="/anchise.web/Contents/00000/it-IT/Scripts/moment.min.js?v=75" type="text/javascript"></script>

<script src="/anchise.web/Contents/00000/it-IT/Scripts/respond.min.js?v=75" type="text/javascript"></script><script src="/anchise.web/Contents/00000/it-IT/Scripts/alten-anchise.js?v=75" type="text/javascript"></script>
<script src="/anchise.web/Contents/00000/it-IT/Scripts/mainMenu.js?v=75" type="text/javascript"></script>
<script src="/anchise.web/Contents/00000/it-IT/Scripts/thirdMenuLibrary.js?v=75" type="text/javascript"></script>

<script src="/anchise.web/Contents/00000/it-IT/Scripts/tm.eventmanager.js?v=75" type="text/javascript"></script>
<script src="/anchise.web/Contents/00000/it-IT/Scripts/tm.communication.js?v=75" type="text/javascript"></script>
<script src="/anchise.web/Contents/00000/it-IT/Scripts/tm.resourcedata.js?v=75" type="text/javascript"></script>
<script src="/anchise.web/Contents/00000/it-IT/Scripts/tm.support.js?v=75" type="text/javascript"></script>
<script src="/anchise.web/Contents/00000/it-IT/Scripts/tm.calendar.js?v=75" type="text/javascript"></script>
<script src="/anchise.web/Contents/00000/it-IT/Scripts/tm.workflow.js?v=75" type="text/javascript"></script>


<script src="/anchise.web/Contents/00000/it-IT/Scripts/_sdk_utils.js?v=75" type="text/javascript"></script>
<script src="/anchise.web/Contents/00000/it-IT/Scripts/_sdk_resource.js?v=75" type="text/javascript"></script>
<script src="/anchise.web/Contents/00000/it-IT/Scripts/_sdk_print.js?v=75" type="text/javascript"></script>
<script src="/anchise.web/Contents/00000/it-IT/Scripts/_sdk_popup.js?v=75" type="text/javascript"></script>
<script src="/anchise.web/Contents/00000/it-IT/Scripts/_sdk_extensions.js?v=75" type="text/javascript"></script>
<script src="/anchise.web/Contents/00000/it-IT/Scripts/_sdk_notify.js?v=75" type="text/javascript"></script>
<script src="/anchise.web/Contents/00000/it-IT/Scripts/tm.resources.js?v=75" type="text/javascript"></script>

<script src="/anchise.web/Contents/00000/it-IT/Scripts/rsa.js?v=75" type="text/javascript"></script>
<script src="/anchise.web/Contents/00000/it-IT/Scripts/tmtmonAnchise.js?v=75" type="text/javascript"></script>




</head>
<body class="sfondo normal-text">
    <div id="menu1" onmouseout="parent.middle.layerTimeOut('menu1','onmouseoutDalLayer')" onmouseover="parent.middle.clearTimeOut();" style="position: absolute; top: 0px; left: 0px; visibility: hidden; z-index: 1000;"> </div>
    <div id="menu2" onmouseout="parent.middle.layerTimeOut('menu2','onmouseoutDalLayer');" onmouseover="parent.middle.clearTimeOut();" style="position: absolute; top: 0px; left: 0px; visibility: hidden; z-index: 1000;"> </div>

    <!-- from waiting panel --->



<div id="response-box">
</div>
<form id="formExport" method="POST"></form>
<script type="text/javascript">
    var popupWidth;

    function onSuccessPopUp(data, isJson) {
        if (!isJson) {
            var popupContent = $('#dialogpopup');

            popupContent.dialog("option", "width", popupWidth);
            popupContent.html(data);

            FormatYouBizDom(popupContent, true);

            popupContent.dialog("open");
        }
    }

    function onSuccess(data, isJson) {
        //debugger;
        if (!isJson) {
            // Fixed Internet Explorer 9 not rendering table cells properly - http://stackoverflow.com/a/14615670
            if (jQuery.browser && jQuery.browser.msie && jQuery.browser.version === '9.0') {
                data = data.replace(/>\s+(?=<\/?(t|c)[hardfob])/gm, '>');
            }

            var dataContent = $("#MainSection");

            dataContent.css('visibility', 'hidden');
            dataContent.html(data);
            FormatYouBizDom(dataContent, false);
            $("html, body").animate({ scrollTop: 0 }, 0);
            dataContent.css('visibility', 'visible');
        }
    }

    function onError(hasErrorMessage, errorMessage, jqXHR, data, textStatus, errorThrown) {
        //debugger;
        var errorHeader = jqXHR.getResponseHeader("ErrorHeader");

        if (!errorHeader) {
            return false;
        }

        errorHeader = $.parseJSON(errorHeader);
        var content = errorHeader.Content;
        var targetType = errorHeader.TargetType;
        var actionType = errorHeader.ActionType;

        // Self
        if (targetType == 0) {
            switch (actionType) {
                // Show
                case 0:
                    $('#dialogerror').html(content);
                    $('#dialogerror').dialog("open");
                    break;

                    // Redirect
                default:
                    $('<iframe />', {
                        id: 'errorPanel',
                        src: content
                    })
                    .prependTo("#dialogerror");
                    $('#dialogerror').dialog("open");
            }
        }

        // Document
        if (targetType == 1) {

            switch (actionType) {
                // Show
                case 0:
                    $('<div />', {
                        id: 'errorPanel',
                        text: content
                    })
                    .prependTo("body");
                    break;
                    // Redirect
                default:
                    document.location.href = content;
            }
        }

        // Alert
        if (targetType == 2) {

            switch (actionType) {
                // Show
                case 0:
                    alert(content);
                    break;

            }
        }

        return true;
    }

    function communicationSendObject(action, objectToSend, onSuccessCall) {
        //debugger;
        $("#dialogmessage").anchisecommunication("connectjson",
            {
                url: action,
                data: objectToSend,
                successHandler: onSuccessCall,
                errorHandler: onError
            });
    }

    function communicationLoad(action, objectToSend, usePopup, popupSize) {
        //debugger;
        popupSize = popupSize || 626;

        popupWidth = popupSize;
        var actionSuccess = onSuccess;
        if (usePopup) {
            actionSuccess = onSuccessPopUp;
        }
        $("#dialogmessage").anchisecommunication("connectjson",
        {
            url: action,
            data: objectToSend,
            successHandler: actionSuccess,
            errorHandler: onError,
            popup: usePopup
        });
    }

    $(document).ready(function () {
        $("#dialogmessage").anchisecommunication(
            {
                dialogClass: "communication-dialog",
                // title: 'YouBusiness Web',
                //spinnerDelay: 0,
                autoOpen: false,
                modal: true,
                width: "auto",
                height: "auto",
                connect: {
                    url: '',
                    successHandler: $.noop,
                    errorHandler: onError
                }
            });

        $("#dialogpopup").dialog(
            {
                dialogClass: "popup-dialog",
                autoOpen: false,
                modal: true,
                resizable: true,
                width: 626, //"auto",
                height: "auto",
                closeOnEscape: true,
                buttons: [{ text: 'Chiudi', click: function () { $(this).dialog("close"); } }]
            });

        $("#dialogerror").dialog(
            {
                title: 'YouBusiness Web',
                spinnerDelay: 0,
                autoOpen: false,
                modal: true,
                resizable: true,
                minHeight: 480,
                minWidth: 640,
                closeOnEscape: true,
                dialogClass: "popupClass",
                buttons: [{ text: 'Chiudi', click: function () { $(this).dialog("close"); } }]
            });
    });
</script>
    

<iframe name="exportFrame" width="1px" height="1px" style="display: none"></iframe>

<script type="text/javascript">
    var rootViewModel = {
        currentSection: '',
        validationRules: [],
        addValidationRule: function (element, validationFunction) {
            validationRules.push(validationFunction);
        },
        clearValidationRules: function () {
            validationRules = [];
        },
        executeValidationRules: function () {
            validationHandler.cumulative(true);
            $(validationRules).each(function (index, fn) {
                fn();
            });
            var isValid = validationHandler.isValid();
            validationHandler.cumulative(false);
            return isValid;
        }
    };

    var validationHandler = {
        isCumulative: false,
        errors: [],
        cumulative: function (isCumulative) {
            validationHandler.isCumulative = isCumulative;
            if (isCumulative) {
                validationHandler.errors = [];
            }
            else {
                var msg = '';
                $(validationHandler.errors).each(function (index, err) {
                    msg += err + '\r\n';
                });
                if (!validationHandler.isValid()) {
                    alert(msg);
                }
            }
        },
        notifyError: function (element, msg) {
            if (!validationHandler.isCumulative) {
                alert(msg);
            } else {
                validationHandler.errors.push(element.id + " - " + msg);
            }
        },
        isValid: function () {
            return validationHandler.errors.length == 0;
        }
    };

    // nota la action viene tenuta per compatibilit� o usi futuri ....
    function RegisterViewModel(viewModelName, viewModel, updateCurrentSection) {
        var childViewModel = ko.mapping.fromJS(viewModel);
        rootViewModel[viewModelName] = childViewModel;

        if (updateCurrentSection) {
            rootViewModel.currentSection = viewModelName;
        }
    }

    function UpdateViewModelBinding() {
        rootViewModel.clearValidationRules();
        ko.applyBindings(rootViewModel);
    }

    function KoGoTo(action) {
        if (rootViewModel.executeValidationRules()) {
            KoGoToUsingObject(action, rootViewModel.currentSection);
        }

    }

    function KoExport(action) {
        var objectToSend = null;
        var viewModelName = rootViewModel.currentSection;
        if (viewModelName != undefined) {
            var viewModel = rootViewModel[viewModelName];
            if (viewModel != undefined) {
                objectToSend = ko.mapping.toJS(viewModel);
            }
        }

        var formExport = $("#formExport");
        formExport.empty();

        var formData = null;
        if (objectToSend) {
            formData = $.toJSON(objectToSend);
        }

        //debugger;
        var inputHidden = $('<input>').attr({ type: 'hidden', name: 'json', value: formData });
        formExport.append(inputHidden);
        formExport.attr("action", action);
        formExport.attr("target", "exportFrame");
        formExport.submit();

    }

    function KoExportOn(action, viewModel) {
        var objectToSend = null;
        if (viewModel != undefined) {
            objectToSend = ko.mapping.toJS(viewModel);
        }
        
        var formExport = $("#formExport");
        formExport.empty();

        var formData = null;
        if (objectToSend) {
            formData = $.toJSON(objectToSend);
        }

        //debugger;
        
        var inputHidden = $('<input>').attr({ type: 'hidden', name: 'json', value: formData });
        formExport.append(inputHidden);
        formExport.attr("action", action);
        formExport.attr("target", "exportFrame");
        formExport.submit();

    }

    function KoExportUsingObject(action, viewModelName) {
       
        var viewModel = null;
        if (viewModelName != undefined) {
            viewModel = rootViewModel[viewModelName];
        }

        KoExportOn(action, viewModel);
    }

    function KoGoToUsingObject(action, sectionName, usePopup) {
        communicationSendKoObject(action, sectionName, usePopup);
     }

    function communicationSendKoObject(action, viewModelName, usePopup) {
        var objectToSend = null;

        if (viewModelName != undefined) {
            var viewModel = rootViewModel[viewModelName];
            if (viewModel != undefined) {
                objectToSend = ko.mapping.toJS(viewModel);
            }
        }

        communicationLoad(action, objectToSend, usePopup);
    }  
</script>

    <div class="main-content">
        <table class="main-content old-container">
            <tbody>
                <tr>
                    <td style="vertical-align: top;">
                        <div id="MainSection" style="visibility: visible;">
    <div class="container"><div class="search new-riquadro">
        

<div class="page-title">
    <div class="search-flag">
    </div>
    <h1>
        Creazione Distinte
    <a id="helpButton" class="helplink"><img src="/anchise.web/Contents/00000/it-IT/alten-anchise-images/i_help.png" class="imgSrv" alt="Help On Line"></a></h1>
</div>
        <table class="toolbar" cellpadding="0" cellspacing="0">
            <tbody>
                <tr>
                    <td style="text-align: center;">
                        <div class="divgrid">
                                    <div style="text-align:right;padding-bottom:3px;">
                                        <span class="help">
    
</span>

<script type="text/javascript">
    $(document).ready(function () {
        $("#helpButton").click(function (e) {
            e.preventDefault();
            var href = '/Anchise2.Web/Widget/Help/A1Helper?page=CreaDistinte.html';
            window.open(href, "Dettaglio", "toolbar=no,scrollbars=yes,status=no,width=534,height=240");
        });
    });
</script>
                                    </div>
                                    <table class="summary" cellpadding="0" cellspacing="0">
                                        <thead>
                                            
                                        </thead>
                                    </table>
                                    <table class="summary" style="border-collapse: collapse;" cellpadding="0" cellspacing="0">
                                        <tbody cellpadding="0" cellspacing="0">
                                                <tr class="subtitle bg-green-light">
                                                    <td class="tdleftWrap bg-green-light" style="border-bottom: 2px solid rgb(255, 255, 255); border-right: 1px solid rgb(255, 255, 255); padding-left: 0px;"><h3 class="new-titleSection">
                                                        AUTOMOBILE CLUB MODENA
                                                    </h3></td>
                                                    <td class="tdright bg-green-light" style="border-bottom:2px solid rgb(255, 255, 255);">
                                                        <b>
                                                            Tot. Disposizioni: 5
                                                        </b>
                                                    </td>
                                                </tr>
                                                <tr class="subtitle">
                                                    <td class="tdleftWrap" style="border-top:2px solid rgb(255, 255, 255);border-right:1px solid rgb(255, 255, 255);">
                                                        Tipo dispositivo
                                                    </td>
                                                    <td class="tdright" style="border-top:2px solid rgb(255, 255, 255);">
                                                        N. Disposizioni
                                                    </td>
                                                </tr>
                                                    <tr class="alternacolor treven">
                                                        <td class="tdleftWrapBold" style="border-right:1px solid rgb(255, 255, 255);">
                                                            <span class="linknounder" data-bind="singleClick: function(){ rootViewModel.RicercaDisposizioneViewModel.NavigateTo(151, 106609);}">
                                                                Bonifici SEPA
                                                            </span>
                                                        </td>
                                                        <td class="tdright">
                                                            <span class="link" data-bind="singleClick: function(){ rootViewModel.RicercaDisposizioneViewModel.NavigateTo(151, 106609);}">
                                                                2
                                                            </span>
                                                        </td>
                                                    </tr>
                                                    <tr class="alternacolor trodd">
                                                        <td class="tdleftWrapBold" style="border-right:1px solid rgb(255, 255, 255);">
                                                            <span class="linknounder" data-bind="singleClick: function(){ rootViewModel.RicercaDisposizioneViewModel.NavigateTo(105, 106609);}">
                                                                Revoche F24
                                                            </span>
                                                        </td>
                                                        <td class="tdright">
                                                            <span class="link" data-bind="singleClick: function(){ rootViewModel.RicercaDisposizioneViewModel.NavigateTo(105, 106609);}">
                                                                1
                                                            </span>
                                                        </td>
                                                    </tr>
                                                    <tr class="alternacolor treven">
                                                        <td class="tdleftWrapBold" style="border-right:1px solid rgb(255, 255, 255);">
                                                            <span class="linknounder" data-bind="singleClick: function(){ rootViewModel.RicercaDisposizioneViewModel.NavigateTo(175, 106609);}">
                                                                Richiesta rendiconto mandati SEDA
                                                            </span>
                                                        </td>
                                                        <td class="tdright">
                                                            <span class="link" data-bind="singleClick: function(){ rootViewModel.RicercaDisposizioneViewModel.NavigateTo(175, 106609);}">
                                                                2
                                                            </span>
                                                        </td>
                                                    </tr>
                                                <tr>
                                                    <td colspan="2" class="tdright">
                                                        &nbsp;
                                                    </td>
                                                </tr>
                                        </tbody>
                                    </table>
<script language="javascript">
    $(function () {
        $('table.grid>tbody>tr:odd').addClass('trodd');
        $('table.grid>tbody>tr:even').addClass('treven');

        $('table.summary>tbody>tr.alternacolor:odd').addClass('trodd');
        $('table.summary>tbody>tr.alternacolor:even').addClass('treven');
    });
 </script>                                <table class="comandi Comandi" cellpadding="0" cellspacing="0">
                                    <tbody><tr>
                                        <td>
                                            &nbsp;
                                        </td>
                                    </tr>
                                        <tr>
                                            <td>
                                                
                                            </td>
                                        </tr>
                                    
                                </tbody></table>

<form id="formLegacy" method="POST" action=""></form>

                        </div>
                    </td>
                </tr>
            </tbody>
        </table>
    </div><div class="new-buttons"><input id="ank-btn-back" type="button" value="Indietro" data-bind="singleClick: function(){ KoGoTo('/anchise.web/DISPOSIZIONI/RicercaDisposizioni');}" class="btn"></div></div>
<script type="text/javascript">
                                            $(function () { RegisterViewModel("RicercaDisposizioneViewModel",{"PiazzaturaRicercaDisposizione":{"IdAzienda":106609,"ABIBanca":null,"IdRapporto":null},"IdTipologiaDisposizione":null,"Importo":{"From":null,"To":null},"IdDisposizioniDaAggregare":[],"IdDisposizioniDaEliminare":[],"LegacyParameters":null,"LegacyCodiceSIA":null,"LegacyIdBanca":null,"LegacyFirst_item_count":null,"PaginaRichiesta":1,"NumeroRighePerPagina":10,"OrdinamentoColonna":1,"OrdinamentoDirezione":1}, true);
             var root = rootViewModel.RicercaDisposizioneViewModel.PiazzaturaRicercaDisposizione; 
             if (root.CodiceSia == undefined) { 
                root.CodiceSia = ko.observable('');
             }
             
             if (root.IdBanca == undefined) { 
                root.IdBanca = ko.observable('');
             }
             
             // Required for PiazzaturaToolbar             
             if (root.HasRapporti == undefined) { 
                 root.HasRapporti = ko.observable(false);
             }
          
             if (root.PiazzaturaIdAziendaEnabled == undefined) { 
                 root.PiazzaturaIdAziendaEnabled = ko.observable(true);
             }
           
             if (root.PiazzaturaAbiBancaEnabled == undefined) { 
                 root.PiazzaturaAbiBancaEnabled = ko.observable(true);
             }
            
             if (root.PiazzaturaIdRapportoEnabled == undefined) { 
                 root.PiazzaturaIdRapportoEnabled = ko.observable(true);
             }
          
             initializePiazzatura(
                rootViewModel.RicercaDisposizioneViewModel.PiazzaturaRicercaDisposizione.IdAzienda(),
                rootViewModel.RicercaDisposizioneViewModel.PiazzaturaRicercaDisposizione.ABIBanca(),
                rootViewModel.RicercaDisposizioneViewModel.PiazzaturaRicercaDisposizione.IdRapporto());
    
             var cmbAzienda = $('#RicercaDisposizioneViewModel_PiazzaturaRicercaDisposizione_IdAzienda');
             var cmbBanca = $('#RicercaDisposizioneViewModel_PiazzaturaRicercaDisposizione_ABIBanca');
            
             /*
              Change combo
             */
             function registerChangeCombo() {
                 cmbAzienda.change(function () {
                     var selectedAzienda = rootViewModel.RicercaDisposizioneViewModel.PiazzaturaRicercaDisposizione.IdAzienda();
                
                     initializePiazzatura(selectedAzienda,"","");
                 });
        
                 cmbBanca.change(function () {
                     var selectedAzienda = rootViewModel.RicercaDisposizioneViewModel.PiazzaturaRicercaDisposizione.IdAzienda();
                     var selectedBanca = rootViewModel.RicercaDisposizioneViewModel.PiazzaturaRicercaDisposizione.ABIBanca();
                   
                     initializePiazzatura(selectedAzienda,selectedBanca,"");
                 });
             }
            
             function unregisterChangeCombo() {
                 cmbAzienda.unbind('change');
                 cmbBanca.unbind('change');
             }
            
             /*
            Initialize comboBox
        */

             function initializePiazzatura(selectedAzienda, selectedBanca, selectedRapporto) {
                 // alert("Posting selectedAzienda: " + selectedAzienda +  " - selectedBanca: " + selectedBanca + " - selectedRapporto: " + selectedRapporto);
                 var piazzatura =
                 {
                     IdAzienda: selectedAzienda,
                     ABIBanca: selectedBanca,
                     IdRapporto: selectedRapporto
                 };

                 communicationSendObject('/anchise.web/DISPOSIZIONI/RicercaDisposizioni/InitializeByPiazzatura?trk=empty', piazzatura, initializeFromPiazzatura);
             }

             function initializeFromPiazzatura(response, isJson, piazzaturaRapporto) {
                 unregisterChangeCombo();
                 initializeComboBoxFromPiazzaturaRapporto(piazzaturaRapporto);
                 registerChangeCombo();
             }

             /*
            Initialize comboBox from piazzatura rapporto
        */
             function initializeComboBoxFromPiazzaturaRapporto(piazzaturaRapporto) {
                 var aziende = piazzaturaRapporto.Aziende;
                 var rapporti = piazzaturaRapporto.Rapporti;
                 var banche = piazzaturaRapporto.Banche;
                 var piazzatura = piazzaturaRapporto.Piazzatura;

                 // Combo azienda
                 cmbAzienda.empty();
                 if (aziende.length > 0) {
                     cmbAzienda
                         .append($('<option></option>')
                             .val("")
                             .html("TUTTI"));         
                 }

                 var emptySIA = '';
                 var emptyIdBanca = '';
                 rootViewModel.RicercaDisposizioneViewModel.PiazzaturaRicercaDisposizione.CodiceSia(emptySIA);
                 rootViewModel.RicercaDisposizioneViewModel.PiazzaturaRicercaDisposizione.IdBanca(emptyIdBanca);
            
                 $.each(aziende, function (index, azienda) {
                     var option = $('<option></option>')
                         .val(azienda.IdAzienda)
                         .text(azienda.RagioneSociale);
                     cmbAzienda.append(option);
                
                     if (azienda.IdAzienda == piazzatura.IdAzienda) {
                         rootViewModel.RicercaDisposizioneViewModel.PiazzaturaRicercaDisposizione.CodiceSia(azienda.CodiceSIA);
                     }
                 });
         
                 // bug ie7
                 cmbAzienda.removeClass("azienda").addClass("azienda");
            
            
                 // Combo banca
                 cmbBanca.empty();
                 if (banche.length > 0) {
                     cmbBanca
                         .append($('<option></option>')
                             .val("")
                             .html("TUTTI"));         
                 }

                 $.each(banche, function (index, banca) {
                     var description = banca.ABI + " - " + banca.Descrizione;
                     var option = $('<option></option>')
                         .val(banca.ABI)
                         .text(description);
                     cmbBanca.append(option);  
                     
                     if (banca.ABI == piazzatura.ABIBanca) {
                        rootViewModel.RicercaDisposizioneViewModel.PiazzaturaRicercaDisposizione.IdBanca(banca.Id);
                    }
                 });
                 // bug ie7
                 cmbBanca.removeClass("banca").addClass("banca");
            
                 rootViewModel.RicercaDisposizioneViewModel.PiazzaturaRicercaDisposizione.IdAzienda(piazzatura.IdAzienda);
                 rootViewModel.RicercaDisposizioneViewModel.PiazzaturaRicercaDisposizione.ABIBanca(piazzatura.ABIBanca);
                 rootViewModel.RicercaDisposizioneViewModel.PiazzaturaRicercaDisposizione.IdRapporto(piazzatura.IdRapporto);
                
                 UpdateViewModelBinding();
             }
         
                $(document).ready(function() {
                    var root = rootViewModel.RicercaDisposizioneViewModel;
                    var navigationUrls = [];

                        navigationUrls[""] = { Url: " /Anchise.Web/DISPOSIZIONI/RicercaDisposizioni/Ricerca", IsLocal: true}; 
                        navigationUrls["2"] = { Url: "/Anchise2.Web/IncassiRiba/CreaDistintaIncassoRiba/Index", IsLocal: true}; 
                        navigationUrls["3"] = { Url: "/ibbweb/creadistinte_old", IsLocal: false}; 
                        navigationUrls["4"] = { Url: "/ibbweb/creadistinte_old", IsLocal: false}; 
                        navigationUrls["5"] = { Url: "/ibbweb/creadistinte_old", IsLocal: false}; 
                        navigationUrls["6"] = { Url: "/ibbweb/creadistinte_old", IsLocal: false}; 
                        navigationUrls["7"] = { Url: "/ibbweb/creadistinte_old", IsLocal: false}; 
                        navigationUrls["8"] = { Url: "/ibbweb/creadistinte_old", IsLocal: false}; 
                        navigationUrls["10"] = { Url: "/ibbweb/creadistinte_old", IsLocal: false}; 
                        navigationUrls["11"] = { Url: "/ibbweb/creadistinte_old", IsLocal: false}; 
                        navigationUrls["28"] = { Url: "/ibbweb/creadistinte_old", IsLocal: false}; 
                        navigationUrls["42"] = { Url: "/ibbweb/creadistinte_old", IsLocal: false}; 
                        navigationUrls["63"] = { Url: "/ibbweb/creadistinte_old", IsLocal: false}; 
                        navigationUrls["100"] = { Url: "/ibbweb/creadistinte_old", IsLocal: false}; 
                        navigationUrls["103"] = { Url: "/ibbweb/creadistinte_old", IsLocal: false}; 
                        navigationUrls["104"] = { Url: "/ibbweb/creadistinte_old", IsLocal: false}; 
                        navigationUrls["105"] = { Url: "/ibbweb/creadistinte_old", IsLocal: false}; 
                        navigationUrls["106"] = { Url: "/ibbweb/creadistinte_old", IsLocal: false}; 
                        navigationUrls["151"] = { Url: "/Anchise2.Web/BonificoSct/SearchDisposizioni/Index", IsLocal: true}; 
                        navigationUrls["152"] = { Url: "/Anchise2.Web/StipendioSct/SearchDisposizioni/Index", IsLocal: true}; 
                        navigationUrls["171"] = { Url: "/Anchise2.Web/Sdd/SearchDisposizioni/Index", IsLocal: true}; 
                        navigationUrls["174"] = { Url: "/Anchise2.Web/Seda/SearchAllineamentiSeda/Index", IsLocal: true}; 
                        navigationUrls["175"] = { Url: "/Anchise2.Web/Seda/SearchRemunerationDisposizioni/Index", IsLocal: true}; 
                        navigationUrls["200"] = { Url: "/ibbweb/creadistinte_old", IsLocal: false}; 
                        navigationUrls["201"] = { Url: "/ibbweb/creadistinte_old", IsLocal: false}; 
                        navigationUrls["202"] = { Url: "/ibbweb/creadistinte_old", IsLocal: false}; 
                        navigationUrls["205"] = { Url: "/ibbweb/creadistinte_old", IsLocal: false}; 
                        navigationUrls["206"] = { Url: "/ibbweb/creadistinte_old", IsLocal: false}; 
                        navigationUrls["207"] = { Url: "/ibbweb/creadistinte_old", IsLocal: false}; 
                        navigationUrls["208"] = { Url: "/ibbweb/creadistinte_old", IsLocal: false}; 
                        navigationUrls["209"] = { Url: "/ibbweb/creadistinte_old", IsLocal: false}; 

                    root.NavigateTo = function(idTipologiaDisposizione, idAzienda) {
                        var navigationUrl = navigationUrls[idTipologiaDisposizione];
                        
                        rootViewModel.RicercaDisposizioneViewModel.IdTipologiaDisposizione(idTipologiaDisposizione);
                        rootViewModel.RicercaDisposizioneViewModel.PiazzaturaRicercaDisposizione.IdAzienda(idAzienda);

                        var goToSummary = (idAzienda == null || idAzienda == '') || (idTipologiaDisposizione == null || idTipologiaDisposizione == '');
                        
                        if (goToSummary) {
                            KoGoTo(navigationUrls[""].Url);
                        }else {
                            var numeroRighePerPagina = rootViewModel.RicercaDisposizioneViewModel.NumeroRighePerPagina();
                            var importoDa = rootViewModel.RicercaDisposizioneViewModel.Importo.From();
                            var importoA = rootViewModel.RicercaDisposizioneViewModel.Importo.To();

                            if (importoDa == null) {
                                importoDa = '';
                            }

                            if (importoA == null) {
                                importoA = '';
                            }

                            var filtroVisibilita = importoDa != '' || importoA != '';

                            var sia = rootViewModel.RicercaDisposizioneViewModel.PiazzaturaRicercaDisposizione.CodiceSia();
                            if (sia == null || sia == '') {
                                sia = rootViewModel.RicercaDisposizioneViewModel.LegacyCodiceSIA();
                            }
                            if (sia == null) {
                                sia = '';
                            }

                            //idAzienda = rootViewModel.RicercaDisposizioneViewModel.PiazzaturaRicercaDisposizione.IdAzienda();
                            if (idAzienda == null || idAzienda == '') {
                                idAzienda = '*';
                                sia = '';
                            }

                            var banca = rootViewModel.RicercaDisposizioneViewModel.PiazzaturaRicercaDisposizione.IdBanca();
                            if (banca == null || banca == '') {
                                banca = rootViewModel.RicercaDisposizioneViewModel.LegacyIdBanca();
                            }

                            var abi = rootViewModel.RicercaDisposizioneViewModel.PiazzaturaRicercaDisposizione.ABIBanca();
                            if (abi == null || abi == '' ) {
                                abi = '';
                                banca = '*';
                            }

                            var first_item_count1 = rootViewModel.RicercaDisposizioneViewModel.LegacyFirst_item_count();
                            if (first_item_count1 == null || first_item_count1 == '') {
                                first_item_count1 = '1';
                            }

                            var queryString = { numRows: numeroRighePerPagina, max_items_number: numeroRighePerPagina, first_item_count: first_item_count1, filtroVisibilita: filtroVisibilita, intestatario: idAzienda, sia: sia, banca: banca, abi: abi, rapporto: '', TIPO: idTipologiaDisposizione, DA_IMPORTO: importoDa, A_IMPORTO: importoA };
                            

                            if (navigationUrl.IsLocal) {
                                $.post('/anchise.web/DISPOSIZIONI/Home/SetCookie' + '?' + $.param(queryString, true)).success(function (data) {
                                    window.top.location.href = navigationUrl.Url;
                                });
                            }else {
                                var href = navigationUrl.Url + '?' + $.param(queryString, true);

                                var formLegacy = $("#formLegacy");
                                formLegacy.empty();
                                var legacyParameters = rootViewModel.RicercaDisposizioneViewModel.LegacyParameters();
                                var params = $.parseJSON(legacyParameters);
                                if (params != null) {
                                    $.each( params, function( pkey, pvalue ) {
                                        var inputHidden = $('<input>').attr({ type: 'hidden', name: pkey, value: pvalue });
                                        formLegacy.append(inputHidden);
                                    });
                                }

                                formLegacy.attr("action", href);
                                formLegacy.submit();
                            }
                        }
                    };
                });
            UpdateViewModelBinding();}); </script></div>
                        <script type="text/javascript">
    $(document).ready(function () {
        communicationLoad('/anchise.web/DISPOSIZIONI/RicercaDisposizioni?trk=empty');
    });
</script>
                    </td>
                </tr>
            </tbody>
            <tfoot>
                <tr>
                    <td style="vertical-align: bottom;">
                        

                    </td>
                </tr>
            </tfoot>
        </table>
    </div>


<div class="ui-dialog ui-widget ui-widget-content ui-corner-all ui-front communication-dialog ui-draggable" tabindex="-1" role="dialog" aria-describedby="dialogmessage" aria-labelledby="ui-id-1" style="height: auto; width: auto; top: 204.5px; left: 920px; display: none; z-index: 101;"><div class="ui-dialog-titlebar ui-widget-header ui-corner-all ui-helper-clearfix ui-draggable-handle"><span id="ui-id-1" class="ui-dialog-title">&nbsp;</span><button type="button" class="ui-button ui-widget ui-state-default ui-corner-all ui-button-icon-only ui-dialog-titlebar-close" role="button" title="Close"><span class="ui-button-icon-primary ui-icon ui-icon-closethick"></span><span class="ui-button-text">Close</span></button></div><div id="dialogmessage" style="opacity: 0; width: auto; min-height: 150px; max-height: 300px; height: auto;" class="ui-dialog-content ui-widget-content">
    <img src="/anchise.web/Contents/00000/it-IT/Images/preloader.gif?v=75">
</div></div><div class="ui-dialog ui-widget ui-widget-content ui-corner-all ui-front popup-dialog ui-dialog-buttons ui-draggable ui-resizable" tabindex="-1" role="dialog" aria-describedby="dialogpopup" aria-labelledby="ui-id-2" style="display: none; position: absolute;"><div class="ui-dialog-titlebar ui-widget-header ui-corner-all ui-helper-clearfix ui-draggable-handle"><span id="ui-id-2" class="ui-dialog-title">&nbsp;</span><button type="button" class="ui-button ui-widget ui-state-default ui-corner-all ui-button-icon-only ui-dialog-titlebar-close" role="button" title="Close"><span class="ui-button-icon-primary ui-icon ui-icon-closethick"></span><span class="ui-button-text">Close</span></button></div><div id="dialogpopup" style="" class="ui-dialog-content ui-widget-content">
</div><div class="ui-dialog-buttonpane ui-widget-content ui-helper-clearfix"><div class="ui-dialog-buttonset"><button type="button" class="ui-button ui-widget ui-state-default ui-corner-all ui-button-text-only" role="button"><span class="ui-button-text">Chiudi</span></button></div></div><div class="ui-resizable-handle ui-resizable-n" style="z-index: 90;"></div><div class="ui-resizable-handle ui-resizable-e" style="z-index: 90;"></div><div class="ui-resizable-handle ui-resizable-s" style="z-index: 90;"></div><div class="ui-resizable-handle ui-resizable-w" style="z-index: 90;"></div><div class="ui-resizable-handle ui-resizable-se ui-icon ui-icon-gripsmall-diagonal-se" style="z-index: 90;"></div><div class="ui-resizable-handle ui-resizable-sw" style="z-index: 90;"></div><div class="ui-resizable-handle ui-resizable-ne" style="z-index: 90;"></div><div class="ui-resizable-handle ui-resizable-nw" style="z-index: 90;"></div></div><div class="ui-dialog ui-widget ui-widget-content ui-corner-all ui-front popupClass ui-dialog-buttons ui-draggable ui-resizable" tabindex="-1" role="dialog" aria-describedby="dialogerror" aria-labelledby="ui-id-3" style="display: none; position: absolute;"><div class="ui-dialog-titlebar ui-widget-header ui-corner-all ui-helper-clearfix ui-draggable-handle"><span id="ui-id-3" class="ui-dialog-title">YouBusiness Web</span><button type="button" class="ui-button ui-widget ui-state-default ui-corner-all ui-button-icon-only ui-dialog-titlebar-close" role="button" title="Close"><span class="ui-button-icon-primary ui-icon ui-icon-closethick"></span><span class="ui-button-text">Close</span></button></div><div id="dialogerror" class="ui-dialog-content ui-widget-content">
</div><div class="ui-dialog-buttonpane ui-widget-content ui-helper-clearfix"><div class="ui-dialog-buttonset"><button type="button" class="ui-button ui-widget ui-state-default ui-corner-all ui-button-text-only" role="button"><span class="ui-button-text">Chiudi</span></button></div></div><div class="ui-resizable-handle ui-resizable-n" style="z-index: 90;"></div><div class="ui-resizable-handle ui-resizable-e" style="z-index: 90;"></div><div class="ui-resizable-handle ui-resizable-s" style="z-index: 90;"></div><div class="ui-resizable-handle ui-resizable-w" style="z-index: 90;"></div><div class="ui-resizable-handle ui-resizable-se ui-icon ui-icon-gripsmall-diagonal-se" style="z-index: 90;"></div><div class="ui-resizable-handle ui-resizable-sw" style="z-index: 90;"></div><div class="ui-resizable-handle ui-resizable-ne" style="z-index: 90;"></div><div class="ui-resizable-handle ui-resizable-nw" style="z-index: 90;"></div></div></body></html>