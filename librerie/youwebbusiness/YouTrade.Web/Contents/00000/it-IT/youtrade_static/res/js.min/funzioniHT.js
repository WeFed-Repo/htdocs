function openNews(e){document.location.href=getPathContext()+"/news/dettaglio.do?id="+e}function OpenWindow(e,t,a){window.open(e,t,a)}function goToPage(e){var t=e;if(-1==e.indexOf(getPathContext())&&-1==e.indexOf("http")&&(t=getPathContext()+t),arguments.length>2){t+="?";for(var a=1;a<arguments.length;a+=2)a>1&&(t+="&"),t+=arguments[a]+"=",t+=escape(arguments[a+1])}document.location.href=t}function encodeUrl(e){var t="";if($(e).is("a")){t=$(e).attr("href");var a=e.host;""!=a&&t.indexOf(a)>=0&&(t=t.substr(t.indexOf(a)+a.length))}else t=e;-1==t.indexOf(getPathContext())&&0==t.indexOf("/")&&(t=getPathContext()+t);var i=t;if(-1!=t.indexOf("?"))var i=t.substring(0,t.indexOf("?"));var n=$("<form></form>").attr("action",i).attr("method","post").appendTo("body").hide();if(-1!=t.indexOf("?")){t=t.replace(/&amp;/g,"&");var o=t.substring(t.indexOf("?")+1).split("&");for(par in o){var r=o[par].split("=");$("<input />").attr("type","hidden").attr("name",r[0]).attr("value",r[1]).appendTo(n)}}return n.submit(),!1}function loadTableOrd(){$(".OUTLetFac table").each(function(){loadOrd(this)})}function loadOrd(e){if(!($(e).parents(".OUT2ColDiff").size()>0)){var t=$(e).find("th:first");if(0!=t.length){var a=$(e).parents("div").hasClass("nosort");a||$(e).find("th[rowspan = 2]").length>0||$(e).hasClass("server")||($.tablesorter.addWidget({id:"sortIcons",format:function(e){$("thead th",e).each(function(){$(this).children("span.s-ico").remove(),$(this).hasClass("headerSortUp")?$(this).append('<span class="s-ico"><span class="ui-grid-ico-sort ui-icon-asc ui-icon ui-icon-triangle-1-n ui-sort-ltr"></span><span class="ui-grid-ico-sort ui-icon-desc ui-state-disabled ui-icon ui-icon-triangle-1-s ui-sort-ltr"></span></span>'):$(this).hasClass("headerSortDown")?$(this).append('<span class="s-ico"><span class="ui-grid-ico-sort ui-icon-asc ui-icon ui-icon-triangle-1-n ui-sort-ltr ui-state-disabled"></span><span class="ui-grid-ico-sort ui-icon-desc ui-icon ui-icon-triangle-1-s ui-sort-ltr"></span></span>'):$(this).append('<span class="s-ico"></span>')})}}),"&nbsp;"==jQuery.trim($(t).html())||""==jQuery.trim($(t).html())?$(e).tablesorter({widgets:["zebra","sortIcons"],widgetZebra:{css:["pari",""]},decimal:",",dateFormat:"dd/mm/yyyy",headers:{0:{sorter:!1}},debug:!1}):$(e).tablesorter({widgets:["zebra","sortIcons"],widgetZebra:{css:["pari",""]},decimal:",",dateFormat:"dd/mm/yyyy",debug:!1}))}}}function setCookie(e){var t=new Date;t.setFullYear(t.getFullYear()+5);var a="RisoluzioneSchermo="+e+"; expires="+t.toGMTString()+"; path="+escape("/")+";";return document.cookie=a,window.location.reload(),!1}function exportExcel(e){var t=document.location.pathname.replace(".do",".xls")+document.location.search,a="scrollbars=1,menubar=1,resizable=1,width=400,height=200",i=readForm(e);window.open(t+"?"+$.param(i),"exportXls",a)}function readForm(e){var t=[],a=$("#"+e).find("input"),n=$("#"+e).find("select"),o=$("#"+e).find("textarea");for(i=0;i<a.size();i++){var r=a[i];if(("radio"==$(r).attr("type")||"checkbox"==$(r).attr("type"))&&r.checked){var s=r.name,l=r.value;t.push({name:s,value:l})}if("text"==$(r).attr("type")||"hidden"==$(r).attr("type")){var s=r.name,l=r.value;t.push({name:s,value:l})}}for(i=0;i<o.size();i++){var c=o[i],s=c.name,l=c.value;t.push({name:s,value:l})}for(i=0;i<n.size();i++){var d=n[i],s=d.name,l=d.options[d.selectedIndex].value;t.push({name:s,value:l})}return t}function noWeekendsOrHolidays(e){var t=$.datepicker.noWeekends(e);if(t[0]){var a=[[1,1],[6,1],[25,4],[1,5],[2,6],[15,8],[1,11],[8,12],[25,12],[26,12]],n=new Date,o=n.getFullYear(),r=new Date(calcoloPasqua(o));for(n>r?(r=new Date(calcoloPasqua(o+1)),a.push([r.getDay(),r.getMonth()+1])):a.push([r.getDay(),r.getMonth()+1]),i=0;i<a.length;i++)if(e.getMonth()==a[i][1]-1&&e.getDate()==a[i][0])return[!1,""];return[!0,""]}return t}function calcoloPasqua(e){var t=e%19,a=Math.floor(e/100),i=e%100,n=Math.floor(a/4),o=a%4,r=Math.floor((a+8)/25),s=Math.floor((a-r+1)/3),l=(19*t+a-n-s+15)%30,c=Math.floor(i/4),d=i%4,u=(32+2*o+2*c-l-d)%7,h=Math.floor((t+11*l+22*u)/451),p=Math.floor((l+u-7*h+114)/31),f=(l+u-7*h+114)%31+1,g=new Date(e+"-"+p+"-"+f),m=1,$=24*m*60*60*1e3;return g.setTime(g.getTime()+$),g.getTime()}Bridge.instance.ready(function(){$.datepicker.setDefaults({showOn:"both",buttonImage:getPathImages()+"calendar.jpg",buttonText:"Calendario",buttonImageOnly:!0,changeMonth:!0,changeYear:!0,duration:0,onChangeMonthYear:function(e,t){var a=$(this).datepicker("getDate");a&&(a.setFullYear(e),a.setMonth(t-1),$(this).datepicker("setDate",a))}}),$(".calendarioDefault").datepicker(),$("a.encodeUrl").click(function(){return encodeUrl(this)}),loadTableOrd()}),$.fn.ajaxDialog=function(e,t,a,i){function n(){$(":input",o).css("cursor",""),o.dialog("open"),o.dialog("enable"),o.dialog("option","position",s.position),loadTableOrd();var e,t=$("form",o);submitFun=function(){$(":input",o).css("cursor","wait"),o.dialog("disable");var t=$(this).serializeArray();return null!=e&&t.push({name:e.name,value:e.value}),o.load(this.action,t,n),!1},t.each(function(){this.submit=submitFun}),$(":submit",t).click(function(t){e=t.target}),t.submit(submitFun)}var o=$("<div />").attr("id",e).appendTo("body"),r={bgiframe:!0,autoOpen:!1,width:600,minHeight:150,bgiframe:!0,modal:!0,title:"Popup",resizeStop:function(){o.css("max-height",$(window).height()-80+"px")}},s=$.extend({},r,a);i===!0&&(s.close=function(){o.remove()}),o.css("max-height",$(window).height()-80+"px"),o.dialog(s);var l=function(){var e=$("<img />").attr("src",getPathImages()+"loading.gif"),a=$("<div />");a.css("height",s.minHeight+"px"),e.css("position","absolute"),e.css("margin-left","-16px"),e.css("top","50%"),e.css("left","50%"),a.html(e),o.html(a),o.dialog("open"),o.load(t,{},n)};if(i===!0)l();else{if(!$(this).is(":button"))return;$(this).click(l)}};