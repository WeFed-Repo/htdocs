
<!doctype html>
<html lang="it" class=" " >
	<head>
		<title>Banco BPM Business</title>
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no">

<!-- Jquery -->
<script src="./fe/assets/jquery.min.js"></script>

<!-- Jquery UI -->
<script src="./fe/assets/jquery-ui.min.js"></script>

<!-- Gestione Font-awesome per formattazioni "particolari" -->
<link rel="stylesheet" href="./fe/assets/awesome/font-awesome.min.css" />
<link rel="stylesheet" href="./fe/assets/awesome/awesome-bootstrap-checkbox.min.css" />
<link rel="stylesheet" href="./fe/assets/awesome/awesome-bootstrap-checkbox-styles.min.css" />

<!-- BOOTSTRAP 4 CDN (EXTERNAL VENDOR) -->

<!--script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.12.9/umd/popper.min.js"></script>
<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/css/bootstrap.min.css" />
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/js/bootstrap.min.js"></script-->

<script src="./fe/assets/popper.min.js"></script>

<script src="./fe/assets/jquery.min.js"></script>
<script src="./fe/assets/jquery-ui.min.js"></script>

<script src="./fe/assets/bootstrap.min.js"></script>
<link rel="stylesheet" href="./fe/assets/bootstrap.min.css">

<script src="./fe/assets/bootstrap-timepicker/bootstrap-timepicker.min.js"></script>
<link rel="stylesheet" href="./fe/assets/bootstrap-timepicker/bootstrap-timepicker.min.css">

<link rel="stylesheet" href="./fe/assets/datepicker.css">

<script src="./fe/assets/bootstrap-table.js"></script>
<link rel="stylesheet" href="./fe/assets/bootstrap-table.css">

<!-- Stili -->
<link rel="stylesheet" href="./fe/css/priv_base.css">
<link rel="stylesheet" href="./fe/css/priv_generic.css">

<!-- Interattivita' ed inizializzazioni -->
<script src="./fe/js/script.js"></script>

<!-- INIZIALIZZAZIONI -->
<script src="./fe/js/initLayout.js"></script>
<script src="./fe/js/init.js"></script>

<!-- FILE DA NON IMPORTARE. UTILI SOLO ALLE LIBRERIE STATICHE -->
<script src="./fe/js/init_for_static_libraries.js"></script>
<script src="./fe/js/init_for_static_filtered_tables.js"></script>
	</head>
	<body>
					<!-- Header -->
			<header>
				
<div class="wrapper">
  <nav class="navbar navbar-expand-lg rounded">
    <div class="navbar-brand d-flex align-items-center">
      <a href="javascript:void(0)"><div class="d-block" id="menutoggle"><i class="icon icon-menu"></i></div></a>
      <a href="#.html.html" class="logo"><img src="./fe/img/logo.png"></a>
    </div>

          <ul class="navbar-nav flex-row d-none d-lg-flex align-items-center">
        <li class="nav-item"> Postazione: <span class="nav-info">P92183912</span> </li>
        <li class="nav-item d-none d-lg-block"> Versione: <span class="nav-info">Extra</span> </li>
        <!-- questo elemento è tornato nel menu di SX e non più vicino alle icone -->
        <li class="nav-item d-flex align-items-center pr-2 pr-sm-3">
            <a class="nav-link">
              <span class="d-none d-xl-block mr-3">
                Ultimo accesso: <span class="nav-info">22/10/2019</span>
              </span>
            </a>
          </li>

      </ul>

          <ul class="navbar-nav flex-row ml-md-auto d-flex align-items-center">
          <li class="nav-item d-flex align-items-center pl-0 pl-sm-3 pr-0 pr-sm-3">
            <div class="dropdown">
              <a class="nav-link skin-btn" id="dropdownMenuButton" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                Skin
              </a>
              <div class="dropdown-menu" aria-labelledby="dropdownMenuButton">
                <a class="dropdown-item" href="#">Lorem ipsum</a>
                <a class="dropdown-item" href="#">Dolor sit amet</a>
              </div>
            </div>
          </li>
          <!-- la classe nav-icon-divider inserisce la riga grigia verticale -->
          <!-- le icone che seguono non hanno la classe .d-flex bensì .d-none .d-sm-flex poichè non vanno mostrate in mobile -->
          <!-- la classe nav-icon-divider inserisce la riga grigia verticale -->
          <li class="nav-item-divider nav-item d-flex align-items-center pr-2 pr-sm-3">
            <a href="tpl_login.html" class="nav-link ico-btn">
              <img class="not-redraw" src="./fe/img/icon/user.svg">
              <span class="ico-label">Mario Rossi</span>
            </a>
          </li>
          <li class="nav-item d-flex align-items-center pl-2 pl-sm-3 pr-0 pr-sm-3">
            <a class="nav-link ico-btn ">
              <img class="not-redraw" src="./fe/img/icon/notifiche.svg">
              <span class="ico-label">Posta</span>
              <span class="ico-badge">2</span>
            </a>
          </li>
          <!-- le icone che seguono non hanno la classe .d-flex bensì .d-none .d-sm-flex poichè non vanno mostrate in mobile -->
          <li class="nav-item d-none d-sm-flex align-items-center pl-2 pl-sm-3 pr-0 pr-sm-3">
            <a href="tpl_home_configurator.html" class="nav-link ico-btn ">
              <img class="not-redraw" src="./fe/img/icon/icon-5.svg">
              <span class="ico-label">Configura</span>
            </a>
          </li>
            <!--a href="tpl_configura.html" class="nav-link ico-btn ">
              <img class="not-redraw" src="./fe/img/icon/icon-5.svg">
              <span class="ico-label">Configura</span>
            </a-->
          <li class="nav-item d-none d-sm-flex align-items-center">
            <a class="nav-link ico-btn d-flex align-items-center">
              <img class="not-redraw" src="./fe/img/icon/help.svg">
              <span class="ico-label">Tutorial</span>
            </a>
          </li>
            <!--a class="nav-link ico-btn d-flex align-items-center">
              <img class="not-redraw" src="./fe/img/icon/help.svg">
              <span class="ico-label">Help</span>
            </a-->
          <li class="nav-item d-none d-sm-flex align-items-center">
            <a class="nav-link ico-btn d-flex pr-1">
              <img class="not-redraw" src="./fe/img/icon/logout.svg">
              <span class="ico-label">Logout</span>
            </a>
          </li>
      </ul>

  </nav>
</div>
			</header>
			<!-- /Header -->
				<!-- Contenitore principale -->
		<div id="main">
			<div class="wrapper">
				<div id="maincontent">
											<!-- Spalla menu -->
													<div id="menu">
								<nav>
									<div class="userdata BT3-visible-xs d-block d-sm-none">
  <span class="nome">Mario Rossi</span>
  <div class="userdata-console">
    <a class="ico-btn"><img class="icon icon-autorizza" src="./fe/img/icon/icon-5.svg"></a>
    <a class="ico-btn"><div class="btn-icon-help"></div></a>
    <a href="#" class="ico-btn"><i class="icon icon-ico_logout"></i></a>
  </div>
</div>
<ul>
  <li class="usermenu">
    <a class=" toggle"><span>Menu personale</span></a>
    <ul style="display:none">
      <li><a>Ipsum dolor</a></li>
      <li><a>Ipsum dolor</a></li>
      <li><a>Ipsum dolor</a></li>
    </ul>
  </li>
      <li class="">
                <a href="tpl_home.html" class="">Home</a>
          <li class="">
                <a class="toggle"><span>Conti</span></a>
          <ul style="display:none;">
                          <li><a href="tpl_saldo.html" class="">Saldo e movimenti</a></li>
                            <li><a href="tpl_dossier.html" class="">Dossier Titoli</a></li>
                        </ul>
              <li class="">
                <a class="toggle"><span>Pagamenti</span></a>
          <ul style="display:none;">
                          <li><a href="tpl_bonifico_singolo.html" class="">Bonifico singolo</a></li>
                            <li><a href="tpl_info_bonifico.html" class="">Info Bonifico</a></li>
                              <li><a class="disabled">Bonifico per detrazioni</a></li>
                                <li><a class="disabled">Deleghe F24</a></li>
                                <li><a class="disabled">F24 Elementi identificativi</a></li>
                                <li><a class="disabled">Modulo F23 - PIN</a></li>
                                <li><a class="disabled">Riepilogo F23 - PIN</a></li>
                                <li><a class="disabled">Quietanza F24</a></li>
                                <li><a class="disabled">Richiedi assegni circolari</a></li>
                                <li><a class="disabled">Richiedi assegni quietanza</a></li>
                                <li><a class="disabled">Bollettini bancari</a></li>
                              <li><a href="tpl_bollettini_postali.html" class="">Bollettini postali</a></li>
                              <li><a class="disabled">MAV-RAV</a></li>
                                <li><a class="disabled">Utenze</a></li>
                              <li><a href="tpl_ricariche_telefoniche.html" class="">Ricariche telefoniche</a></li>
                              <li><a class="disabled">CBILL PAGO-PA</a></li>
                          </ul>
              <li class="">
                <a href="tpl_bollo_auto.html" class="">Bollo Auto</a>
          <li class="">
                <a class="toggle"><span>Incassi</span></a>
          <ul style="display:none;">
                          <li><a href="tpl_riba.html" class="">RiBa</a></li>
                              <li><a class="disabled">Lorem ipsum</a></li>
                                <li><a class="disabled">Lorem ipsum</a></li>
                          </ul>
              <li class="">
                <a class="toggle"><span>Estero</span></a>
          <ul style="display:none;">
                            <li><a class="disabled">Lorem ipsum</a></li>
                                <li><a class="disabled">Lorem ipsum</a></li>
                          </ul>
              <li class="">
                <a class="toggle"><span>Documenti e Fatture</span></a>
          <ul style="display:none;">
                          <li><a href="tpl_documenti_online.html" class="">Documenti online</a></li>
                        </ul>
              <li class="">
                <a class="toggle"><span>Carte Business</span></a>
          <ul style="display:none;">
                            <li><a class="disabled">Lorem ipsum</a></li>
                                <li><a class="disabled">Lorem ipsum</a></li>
                          </ul>
              <li class="">
                <a class="toggle"><span>Gestione carte</span></a>
          <ul style="display:none;">
                          <li><a href="tpl_carte_gestione_pannello_controllo.html" class="">Pannello di controllo</a></li>
                        </ul>
              <li class="">
                <a class="toggle"><span>Documenti e fatture</span></a>
          <ul style="display:none;">
                            <li><a class="disabled">Lorem ipsum</a></li>
                                <li><a class="disabled">Lorem ipsum</a></li>
                          </ul>
              <li class="">
                <a class="toggle"><span>Finanziamenti</span></a>
          <ul style="display:none;">
                          <li><a href="tpl_finanziamenti_rateali.html" class="">Finanziamenti rateali</a></li>
                            <li><a href="tpl_finanziamenti_rateali_ammortamento.html" class="">Finanziamenti rateali Ammortamento</a></li>
                            <li><a href="tpl_finanziamenti_rateali_pre_ammortamento.html" class="">Finanziamenti rateali Pre Ammortamento</a></li>
                        </ul>
              <li class="">
                <a class="toggle"><span>Dati e disposizioni</span></a>
          <ul style="display:none;">
                          <li><a href="tpl_distinte_elenco.html" class="">Elenco disposizioni</a></li>
                              <li><a class="disabled">Esiti disposizioni</a></li>
                              <li><a href="tpl_distinte_crea.html" class="">Creazione distinte</a></li>
                            <li><a href="tpl_distinte_autorizza.html" class="">Autorizza distinte</a></li>
                              <li><a class="disabled">Importa distinte</a></li>
                                <li><a class="disabled">Estrai dati</a></li>
                                <li><a class="disabled">Strutture libere</a></li>
                                <li><a class="disabled">Monitoraggio flussi CBI</a></li>
                          </ul>
              <li class="opened">
                <a class="toggle"><span>PARTE PUBBLICA E VARI<br /><u>(non includere in menu)</u></span></a>
          <ul >
                          <li><a href="tpl_home_configurator.html" class="on">HOME - Configuratore</a></li>
                            <li><a href="strutt_priv.php?tpl=tpl_configura.php" class="">CONFIGURA</a></li>
                            <li><a href="tpl_smart_lending.html" class="">SMART LENDING</a></li>
                            <li><a href="strutt_priv.php?tpl=tpl_login.php" class="">LOGIN</a></li>
                              <li><a class="disabled">Profilatura Utenti</a></li>
                              <li><a href="tpl_login_help.html" class="">LOGIN HELP</a></li>
                            <li><a href="tpl_login_post.html" class="">POST LOGIN</a></li>
                            <li><a href="tpl_password_change.html" class="">CHANGE PASSWORD</a></li>
                            <li><a href="tpl_certificazione_cell_1.html" class="">CERTIFICAZIONE CELL</a></li>
                            <li><a href="tpl_accesso_youinvoice.html" class="">ACCESSO YOUINVOICE</a></li>
                        </ul>
          </ul>
								</nav>
							</div>
												<!-- Fine spalla menu -->
										<!-- Spazio dei contenuti -->
					<div id="contenuti">
					 	<div class="container-fluid">
													 		<span class="breadcrumb d-none d-md-block"><span class="verde">Home</span> / Lorem / Ipsum / Dolor amet</span>
														<div class="dhb-configuratore">

	<script type="text/javascript">

// CONFIGURAZIONE OGGETTO
// Config bar dei widget
// La chiave (es: 'sintesi') e' completamente personalizzabile ed e' l'argomento che verra' passato per il salvataggio
// Non vanno invece toccati desc e icon, necessari a visualizzare i vari elementi come da indicazioni ID
var wdgElenco = {
  "banner": {desc: "Banner",icon:"widget1.svg",isdouble:true},
  "calendario": {desc: "Calendario",icon:"widget2.svg"},
  "sintesi": {desc:"Sintesi patrimoniale",icon:"widget1.svg"},
  "movimenti": {desc:"Ultimi movimenti",icon:"widget2.svg"},
  "conto": {desc:"Riepilogo conto",icon:"widget1.svg"},
  "posta": {desc:"Posta personale",icon:"widget2.svg"},
  "titoli": {desc:"Titoli preferiti",icon:"widget1.svg"},
  "indici": {desc:"Indici",icon:"widget2.svg"},
  "portafoglio": {desc:"Portafoglio",icon:"widget1.svg"},
  "carta": {desc:"Riepilogo carta",icon:"widget2.svg"},
}

// Elenco ID dei widget configurati dall'utente (oppure di quelli di "default")
//var wdgConf = ["calendario"];
var wdgConf = ["indici","portafoglio","carta"];

// Inizializzazione del componente "salva"
$(function(){
  // Funzione per salvataggio (includere qui l'eventuale post del dato wdgConf)
  $("#phSalva").click(function(){
    if (!$(this).hasClass("disable")) {
        // La variabile da "salvare" e' wdgConf: si tratta dell'array con gli id dei widget scelti dall'utente
        alert(wdgConf);
    }
  });
});

// Inizializzazione dell'interattività dell'elemento
 $(function(){
  // Inizializzazioni
  phWidgetBoxesContainer = $("#pershome");
  phWidgetBoxes = $(".dhb-configuratore__boxes");
  phListaMobile = $(".dhb-configuratore__list");
  phListaDesktop = $(".dhb-configuratore__list-desktop");
  carousel = $("#carouselBar");
  carouselInner = carousel.find(".carousel-inner")
  phAlert = $("#phAlert");
  phPlaceholders = $(".placeholder, .ui-sortable-placeholder");

  // Precarica i widget salvati e gli altri nella spalla
  $.each(wdgElenco,function(k,v){
    var addedClasses = (v.isdouble) ? 'is-double' : ''
    var wdgLi = $("<li>").addClass("wdg "+addedClasses).attr({"data-id":k});
    var wdgLiRimuovi = $("<a>").addClass("btn rimuovi").html("Rimuovi ").append("<span class='icon icon-close iconRemove'></span>").click(function(){
        phRemoveWidget($(this).parents("li"))
    });
    var wdgIcona = $("<span>").addClass("icon-box icon-" + v.icon).append('<img class="icon" src="./fe/img/icon/' + v.icon + '" />');
    var wdgPlus = $("<span>").addClass("icon-piu iconAdd").click(function(){
       phAddWidget($(this).parents("li"))
    });
    wdgLi.append(
      $("<div>").addClass("wdg-wrapper").append(
        wdgIcona,
        $("<span>").addClass("wdg-nome").html(v.desc),
        wdgLiRimuovi,
        wdgPlus)
      );
    // Push nella lista dei configurati o nella colonna laterale
    if($.inArray( k, wdgConf)>=0) {
      phWidgetBoxes.append(wdgLi)
    } else {
      phListaMobile.append(wdgLi)
    }
    // Trasformazione immagini appena create in svg
     imgToSvg();
  });

  // FUNZIONI GENERALI

  // Rimozione elemento dalla lista
  phRemoveWidget = function(item) {
    var elClone = item.clone().attr("style","").removeClass("ui-sortable-helper");
    elClone.find(".rimuovi").click(function(){ phRemoveWidget($(this).parents("li")) });
    elClone.find(".icon-piu").click(function(){ phAddWidget($(this).parents("li")) });
    phListaMobile.prepend(elClone);
    item.remove();
    // Aggiorna l'elenco dei widget
    phWidgetUpdate();
  }

  phAddWidget = function(item) {
    var elClone = item.clone().attr("style","").removeClass("ui-sortable-helper");
    elClone.find(".rimuovi").click(function(){ phRemoveWidget($(this).parents("li")) });
    elClone.find(".icon-piu").click(function(){ phAddWidget($(this).parents("li")) });
    phWidgetBoxes.prepend(elClone);
    item.remove();
    phWidgetUpdate(); // Aggiorna l'elenco dei widget
  }

  phWidgetUpdate = function() {
    // Aggiorna l'elenco dei widget
    wdgConf = phWidgetBoxes.sortable("toArray",{attribute:"data-id"});
    // Conteggio degli elementi ed eventuali "blocchi"
    if (wdgConf.length<2) {
      phAlert.show();
    }
    else {
      phAlert.hide();
    }
    console.log( 'ACTION SAVE: ', wdgConf );
  }

  // Inizializza le due liste draggabili con le varie interazioni associate

  phListaMobile.sortable({
    items: "li",
    connectWith: '.dhb-configuratore__boxes',
    containment : ".dhb-configuratore"
  });

  phWidgetBoxes.sortable({
    items: "li",
    appendTo: document.body,
    containment : ".dhb-configuratore",
    connectWith: ".dhb-configuratore__list",
    update: function(event, ui){
      phWidgetUpdate();
    },
    start: function (e, ui) {
      if (wdgConf.length>0) ui.placeholder.html("<div>");
    },
    over: function (e, ui) {
      if (wdgConf.length>0) ui.placeholder.html("<div>");
      // Rimuove il placeholder esistente
      if(phPlaceholders.length>0) phPlaceholders.remove();
      // abbina la classe al placeholder
      var plus;
      if(ui.item.hasClass('is-double')) {
        ui.placeholder.addClass(plus);
        phPlaceholders.addClass(plus);
      }
    },
  });
  $("phWidgetBoxesContainer").removeClass("loading dark")
});

</script>

	<div class="dhb-configuratore__list-desktop">
		<div class="dhb-bar box bordered p-3 mb-3">
		  <div class="row">
		    <div class="col-12">
		      <h4>Personalizza la tua home page</h4>
		      <p class="mt-3 mb-md-0">
				Organizza al meglio la tua operatività: scegli le funzioni (widget) che utilizzi più spesso,
				trascinale nell'area sottostante e ordinale in base alle tue esigenze. <br /> Le ritroverai nella tua home page.
		      </p>
		    </div>
						  </div>
		</div>
	</div>

	<h2>Widget disponibili</h2>
	<ul class="dhb-configuratore__list"></ul>
	<hr />

	<div id="phAlert" style="display:none" class="alert alert-warning">
		<strong>ATTENZIONE!</strong> &nbsp; Per salvare, trascina almeno 2 widget sulla tua homepage.
	</div>

	<div id="pershome" class="loading">
		<h2>Widget in pagina</h2>
		<ul id="phWidgetBoxes" class="dhb-configuratore__boxes"></ul>
	</div>

</div>
						</div>
					</div>
					<!-- Fine spazio dei contenuti -->
				</div>
			</div>
		</div>
		<!-- /Contenitore principale -->
		<!-- Footer -->
		<footer>
			<div class="wrapper">
  <div class="row text-center text-md-left">
    <div class="col-12 col-xl-8 m-auto">
      <div class="footer-block">
        <img class="footer-logo" src="./fe/img/logo2.png">
      </div>
      <div class="footer-block">
        <h4>Assistenza clienti</h4>
        <p>Per chiamate dall'Italia<br><span class="verde">800 607 227</span></p>
        <p>Per chiamate dall'estero<br><span class="verde">+39 02 43371234</span></p>
      </div>
      <div class="footer-block">
        <h4>Info generali</h4>
        <p>BANCO BPM GRUPPO BANCARIO
           <br>Piazza F. Meda, 4 - 20121 Milano
           <br>tel. 02 77001 - Rappresentante del Gruppo IVA Banco BPM
           <br> P.IVA 10537050964
           <br>Tutti i diritti riservati
        </p>
      </div>
    </div>
    <div class="col-12 m-auto text-center pb-3">
      Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua.
      <a href="#">Privacy</a>
    </div>
  </div>
</div>
		</footer>
		<!-- /Footer -->
	</body>
</html>
