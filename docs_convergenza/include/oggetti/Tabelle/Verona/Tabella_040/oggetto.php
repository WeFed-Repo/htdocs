<section>
	<div class="linee-wrapper desktop-label">
		<div class="lineaT">LINEA ATTUALE</div>
		<div class="lineaN">NUOVE LINEE DI TRADING ONLINE</div>
	</div>
<table id="tbFixedColumn" class="fixedColumns scelta-profilo">
 <thead>
        <tr>
            <th class="left" data-index="0"></th>
            <th class="center evidenziato" data-index="1">
                <span class="desktop-label">Precedente</span>
                <span class="mobile-label">Linea attuale</span>
            </th>
            <th class="center" data-index="2">Linea 1
                <label>
                    <input type="radio" data-column="cgp" name="linea" value="linea1">
                </label> 
            </th>
            <th class="center" data-index="3">Linea 2
                 <label>
                    <input type="radio" data-column="cgp" name="linea"  value="linea2">
                </label>
            </th>
            <th class="center" data-index="4">Linea 3
                <label>
                    <input type="radio" data-column="cgp" name="linea" value="linea3">
                </label>
            </th>
            <th class="center" data-index="5">Linea 4
                <label>
                    <input type="radio" data-column="cgp" name="linea" value="linea4">
                </label>
            </th>
         </tr>
    </thead>
    <tbody>
        <tr class="dispari">
            <td class="left">Canone mensile</td>
            <td class="center evidenziato">0 &euro;</td>
            <td class="right">0 &euro;</td>
            <td class="right">7 &euro;</td>
            <td class="right">9 &euro;</td>
            <td class="right">9 &euro;</td>
        </tr>
        <tr class="pari">
            <td class="left">Canone rimborsato a fronte</td>
            <td class="center evidenziato">30 ord./mes</td>
            <td class="right">20 ord./mes</td>
            <td class="right">20 ord./mes</td>
            <td class="right">25 ord./mes</td>
            <td class="right">30 ord./mes</td>
        </tr>
        <tr class="dispari">
            <td class="left">Percentuale italia</td>
            <td class="center evidenziato">0,10%</td>
            <td class="right">0,10%</td>
            <td class="right">0,15%</td>
            <td class="right">0,10%</td>
            <td class="right">0,12%</td>
        </tr>
        
        <tr class="pari title-row hidden-xs">
            <td class="left">TITOLO ITALIA</td>
            <td class="center evidenziato"></td>
            <td class="right"></td>
            <td class="right"></td>
            <td class="right"></td>
            <td class="right"></td>
        </tr>

        <tr class="dispari">
            <td class="left">Percentuale</td>
            <td class="center evidenziato">0,19%</td>
            <td class="right">0,19%</td>
            <td class="right">0,17%</td>
            <td class="right">0,15%</td>
            <td class="right">0,15%</td>
        </tr>
        <tr class="pari">
            <td class="left">Minimo</td>
            <td class="center evidenziato">10 &euro;</td>
            <td class="right">10 &euro;</td>
            <td class="right">10 &euro;</td>
            <td class="right">12 &euro;</td>
            <td class="right">10 &euro;</td>
        </tr>
        <tr class="dispari">
            <td class="left">Massimo</td>
            <td class="center evidenziato">25 &euro;</td>
            <td class="right">25 &euro;</td>
            <td class="right">20 &euro;</td>
            <td class="right">20 &euro;</td>
            <td class="right">20 &euro;</td>
        </tr>
        <tr class="pari">
            <td class="left">Spese fisse per inseseguito</td>
            <td class="center evidenziato">0 &euro;</td>
            <td class="right">0 &euro;</td>
            <td class="right">0 &euro;</td>
            <td class="right">2 &euro;</td>
            <td class="right">2 &euro;</td>
        </tr>
       <tr class="dispari title-row hidden-xs">
            <td class="left">TITOLO ESTERO</td>
            <td class="center evidenziato"></td>
            <td class="right"></td>
            <td class="right"></td>
            <td class="right"></td>
            <td class="right"></td>
        </tr>
        <tr class="pari">
            <td class="left">Comm. fisse per operazione</td>
            <td class="center evidenziato">35 &euro;</td>
            <td class="right">25 &euro;</td>
            <td class="right">20 &euro;</td>
            <td class="right">20 &euro;;</td>
            <td class="right">25 &euro;</td>
        </tr>
        <tr class="pari">
            <td class="left">Comm. aggiuntive per operazioni diverse da &euro;</td>
            <td class="center evidenziato">0,15%</td>
            <td class="right">0,19%</td>
            <td class="right">0,17%</td>
            <td class="right">0,15%;</td>
            <td class="right">0,15%</td>
        </tr>
        <tr class="dispari">
            <td class="left">Spese fisse per eseguito</td>
            <td class="center evidenziato">0 &euro;</td>
            <td class="right">0 &euro;</td>
            <td class="right">0 &euro;</td>
            <td class="right">2 &euro;</td>
            <td class="right">2 &euro;</td>
        </tr>
        <tr class="pari">
            <td class="left">Spese fisse per inseseguito</td>
            <td class="center evidenziato">3 &euro;</td>
            <td class="right">3 &euro;</td>
            <td class="right"></td>
            <td class="right"></td>
            <td class="right"></td>
        </tr>
        <tr class="dispari title-row hidden-xs">
            <td class="left">INFORMATIVE IN TEMPO REALE</td>
            <td class="center evidenziato"></td>
            <td class="right"></td>
            <td class="right"></td>
            <td class="right"></td>
            <td class="right"></td>
        </tr>
        <tr class="dispari">
            <td class="left">Canone mensile per quotazioni New York in tempo reale</td>
            <td class="center evidenziato">Non inclusa</td>
            <td class="right">Non inclusa</td>
            <td class="right">Non inclusa</td>
            <td class="right">inclusa</td>
            <td class="right">inclusa</td>
        </tr>
        <tr class="pari">
            <td class="left">Canone mensile per quotazioni Francoforte in tempo reale</td>
            <td class="center evidenziato">Non inclusa</td>
            <td class="right">Non inclusa</td>
            <td class="right">Non inclusa</td>
            <td class="right">inclusa</td>
            <td class="right">inclusa</td>
        </tr>
        <tr class="dispari">
            <td class="left">Canone mensile per quotazioni Parigi e Amsterdam in tempo reale</td>
            <td class="center evidenziato">Non inclusa</td>
            <td class="right">Non inclusa</td>
            <td class="right">Non inclusa</td>
            <td class="right">Non inclusa</td>
            <td class="right">inclusa</td>
        </tr>
        <tr class="pari">
            <td class="left">Analisi tecnica e fondamentale</td>
            <td class="center evidenziato">Non inclusa</td>
            <td class="right">Non inclusa</td>
            <td class="right">Non inclusa</td>
            <td class="right">inclusa</td>
            <td class="right">inclusa</td>
        </tr>
        <tr class="radio-mobile">
            <td class="left">
                <span class="desktop-label">Trading on line</span>
                <span class="mobile-label">Linea</span>
            </td>
            <td class="left evidenziato">
                <span class="desktop-label">Precedente</span>
                <span class="mobile-label">Linea attuale</span>
            </td>
            <td class="center">Linea 1
                <label>
                    <input type="radio" data-column="cgp" name="linea" value="linea1">
                </label>
            </td>
            <td class="center">Linea 2
                 <label>
                    <input type="radio" data-column="cgp" name="linea" value="linea2">
                </label>
            </td>
            <td class="center">Linea 3
                <label>
                    <input type="radio" data-column="cgp" name="linea" value="linea3">
                </label>
            </td>
            <td class="center">Linea 4
                <label>
                    <input type="radio" data-column="cgp" name="linea" value="linea4">
                </label>
            </td>
         </tr>
    </tbody>
 </table>
</section>
<section>
    <div class="form-group btnWrapper clearfix">
        <div class="btn-align-right">
          <div>
            <a type="button" href="#" class="btn btn-primary" title="prosegui" id="btnInvio">Attiva <span class="linea-selected"></span></a>
          </div>
        </div>
    </div>
 </section>




<script>
function fixColonna() {
    if(isSmallDevice) {
        $('#tbFixedColumn').bootstrapTable('destroy').bootstrapTable({
            fixedColumns: true,
            fixedNumber: 2,
            onPostBody : selectRadioColumn
        })
    }
    else {
        $('#tbFixedColumn').bootstrapTable('destroy').bootstrapTable({
            fixedColumns: false,
            fixedNumber: 2,
            onPostBody : selectRadioColumn
        });
    }
}
var selectRadioColumn = function() {
    var tableC = $('#tbFixedColumn'),
        trTable = tableC.find('tr'),
        tdTable = trTable.find('td'),
        thTable = tableC.find('th'),
        inTable = tableC.find('input[type="radio"]')
    tdTable.on('click',
    function(index) {
        var indexSel;
        if(isSmallDevice) {
        tdTable.removeClass('highlight');
        $(this).addClass('highlight');
        $(this).closest('tr').find('td').each(function(index) {
            if ($(this).attr('class').indexOf('highlight')!= -1) {
                indexSel = index;
           }
         })
        /*if($(this).closest('tr').attr('class').indexOf('radio-mobile')!= -1)
        {
            //$(this).find('input[type="radio"]').trigger('click');
        }*/
        
            //thTable.eq(indexSel).find('input[type="radio"]').trigger('click');
        //}
        thTable.eq(indexSel).find('input[type="radio"]').trigger('click');
        if($(this).closest('tr').attr('class').indexOf('radio-mobile')!= -1)
         {
            $(this).find('input[type="radio"]').attr('checked','checked');;
         }
        }
    })
    inTable.on('click',
    function(el,index) {
        var textBtn = $(this).val();
        $('#btnInvio').find('.linea-selected').html(textBtn);
        thTable.removeClass('highlight');
        $(this).closest('th').addClass('highlight');
        var indexSel;
        $('#tbFixedColumn').find('th').each(function(index){
            if ($(this).attr('class').indexOf('highlight')!= -1) {
                indexSel = index;
           }
        })
        
        trTable.each(function(){
            $(this).find('td').removeClass('highlight');
            $(this).find('td').eq(indexSel).addClass('highlight');
        })
        
        
        
     }
    )
    
}

$(function() {
    fixColonna();
});

$(window).resize(function() {
    fixColonna()
    
});
</script>