function CircleCounter(a){if(!a)throw new Error("Please specify value ID");this.id=a,this.counterObj=$("#"+this.id),this.timer=this.counterObj.data("timer"),this.timeElapsed=this.counterObj.data("time-elapsed")||0,this.counterObj.addClass("pie degree"),this.counterObj.append('<span class="block"></span><span class="time">'+_formatTimer(this.timer-this.timeElapsed)+"</span>"),this.timeObj=$("#"+this.id).find(".time"),this.color=this.counterObj.data("color")||"#00366b",this.elapsedColor=this.counterObj.data("elapsed-color")||"grey",this.counterObj.css("background-color",this.color),this.percent=this.timer-this.timeElapsed,_applyStyle.call(this),this.timerInterval=void 0}function _applyStyle(){this.percent<this.timer/2?(this.deg=-90+360*(this.timer-this.percent)/this.timer,this.counterObj.css("background-image","linear-gradient("+this.deg+"deg, transparent 50%, "+this.elapsedColor+" 50%),linear-gradient(-90deg, "+this.elapsedColor+" 50%, transparent 50%)")):this.percent>=this.timer/2&&(this.deg=90+360*(this.timer-this.percent)/this.timer,this.counterObj.css("background-image","linear-gradient("+this.deg+"deg, transparent 50%, "+this.color+" 50%),linear-gradient(-90deg, "+this.elapsedColor+" 50%, transparent 50%)"))}function _formatTimer(a){var b="00",c=parseInt(a/3600);a-=3600*c;var d=parseInt(a/60),e=a-60*d,f="";return 0!=c&&(f+=b.substring(0,b.length-c.toString().length)+c+":"),f+=b.substring(0,b.length-d.toString().length)+d+":"+b.substring(0,b.length-e.toString().length)+e}CircleCounter.prototype.start=function(a){var b=this;if(this.timerInterval)throw new Error('Timer with id "'+this.id+'" already started. Stop it before restarting');this.timerInterval=setInterval(function(){b.draw()},a||1e3)},CircleCounter.prototype.stop=function(){clearInterval(this.timerInterval),this.timerInterval=void 0},CircleCounter.prototype.restart=function(){this.percent=this.timer,this.stop(),this.start()},CircleCounter.prototype.draw=function(){this.percent-=1,this.timeObj.html(_formatTimer(this.percent)),0==this.percent&&(clearInterval(this.timerInterval),this.timerInterval=void 0),_applyStyle.call(this)};